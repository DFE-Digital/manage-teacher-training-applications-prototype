<h2 class="govuk-heading-m govuk-!-margin-top-9">
  Ethnicity of candidates
</h2>

<table id="ethnicity" class="govuk-table">
  <caption class="govuk-table__caption govuk-table__caption--m govuk-visually-hidden">{{ pageTitle }} - ethnicity data</caption>
  <thead class="govuk-table__head">
    <tr class="govuk-table__row">
      <th scope="col" class="govuk-table__header">Ethnicity</th>
      <th scope="col" class="govuk-table__header govuk-table__header--numeric" style="width:20%">
        <!-- Candidates who applied and gave this answer -->
        Applied
      </th>
      <th scope="col" class="govuk-table__header govuk-table__header--numeric" style="width:20%">
        <!-- Candidates who were recruited and gave this answer -->
        Recruited
      </th>
      <th scope="col" class="govuk-table__header govuk-table__header--numeric" style="width:20%">
        <!-- Percentage of candidates who were recruited and gave this answer -->
        Percentage recruited
      </th>
    </tr>
  </thead>
  <tfoot class="govuk-table__foot">
    <tr class="govuk-table__row">
      <th scope="row" class="govuk-table__header">All answers</th>
      <td class="govuk-table__header govuk-table__header--numeric">
        {{ ethnicityData.totals.received | numeral('0,0') }}
      </td>
      <td class="govuk-table__header govuk-table__header--numeric">
        {{ ethnicityData.totals['Recruited'] | numeral('0,0') }}
      </td>
      <td class="govuk-table__header govuk-table__header--numeric">
        {{ ethnicityData.rates['Recruited'] | numeral('0.[0]') }}%
      </td>
    </tr>
  </tfoot>

  {% for ethnicity in ethnicityData.items %}

    <tbody class="govuk-table__body" scope="rowgroup">

      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">
          {{ ethnicity.title }}
        </th>
        <td class="govuk-table__cell govuk-table__cell--numeric govuk-!-font-weight-bold">
          {{ ethnicity.counts.received | numeral('0,0') }}
        </td>
        <td class="govuk-table__cell govuk-table__cell--numeric govuk-!-font-weight-bold">
          {{ ethnicity.counts['Recruited'] | numeral('0,0') }}
        </td>
        <td class="govuk-table__cell govuk-table__cell--numeric govuk-!-font-weight-bold">
          {{ ethnicity.rates['Recruited'] | numeral('0.[0]') }}%
        </td>
      </tr>

      {% if ethnicity.items %}

        {% for item in ethnicity.items %}

          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header govuk-!-font-weight-regular govuk-!-padding-left-5">
              {{ item.title }}
            </th>
            <td class="govuk-table__cell govuk-table__cell--numeric">
              {{ item.counts.received | numeral('0,0') }}
            </td>
            <td class="govuk-table__cell govuk-table__cell--numeric">
              {{ item.counts['Recruited'] | numeral('0,0') }}
            </td>
            <td class="govuk-table__cell govuk-table__cell--numeric">
              {{ item.rates['Recruited'] | numeral('0.[0]') }}%
            </td>
          </tr>

        {% endfor %}

      {% endif %}

    </tbody>

  {% endfor %}

</table>
