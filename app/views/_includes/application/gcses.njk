{% set rowData = [] %}
{% for item in application.gcse | toArray %}
  {% if not item.missing %}
    {# Only awarding body non-UK qualification #}
    {% set qualificationHtml %}
      {{ item.type }} <b>{{ item.subject }}</b>
      {% if item.provenance == "international" %}
        <p class="govuk-caption-m govuk-!-font-size-16 govuk-!-margin-bottom-2">
          {{ item.country }}
        </p>
        {% if item.naric %}
          <p class="govuk-caption-m govuk-!-font-size-16 govuk-!-margin-bottom-0">
            Comparable to {{ item.naric.comparable }}<br>
            NARIC: {{ item.naric.reference }}
          </p>
        {% endif %}
      {% endif %}
    {% endset %}
    {% set rows = rowData.push([{
      html: qualificationHtml
    }, {
      html: item.year
    }, {
      html: item.grade
    }]) %}
  {% else %}
    {% set rows = rowData.push([{
      html: item.type + " <b>" +  item.subject + "</b>"
    }, {
      html: item.missing,
      colspan: 2
    }]) %}
  {% endif %}
{% endfor %}
{{ govukTable({
  head: [{
    classes: "govuk-!-width-one-half",
    text: "GCSEs or equivalent"
  }, {
    classes: "govuk-!-width-one-quarter",
    text: "Awarded"
  }, {
    text: "Grade"
  }],
  rows: rowData
}) }}
