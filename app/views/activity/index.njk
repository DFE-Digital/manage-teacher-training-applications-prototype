{% extends "_layout.njk" %}

{% set primaryNavId = 'activity' %}
{% set title = "Activity log" %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">{{title}}</h1>

      {% for day, events in activity %}

        <h2 class="govuk-heading-m govuk-!-margin-top-9">
          {%- if day | daysFromDate(now) == 0 %}
            Today ({{- day | govukDate -}})
          {% elseif day | daysFromDate(now) == 1 %}
            Tomorrow ({{- day | govukDate -}})
          {% else %}
            {{- day | govukDate -}}
          {% endif -%}
        </h2>

        {% include "_includes/activity-log/events-timeline.njk" %}

      {% endfor %}

      {{ appPreviousNextNavigation({
        previous: {
          href: './activity?page=' + (pageNumber - 1),
          title: {
            text: 'Previous page'
          },
          label: {
            text: (pageNumber-1) + ' of ' + pageCount
          }
        } if pageNumber >= 2,
        next: {
          href: './activity?page=' + (pageNumber + 1),
          title: {
            text: 'Next page'
          },
          label: {
            text: ((pageNumber+1) + ' of ' + pageCount) if pageNumber else ('1 of ' + pageCount)
          }
        } if not (pageNumber == pageCount)
      }) }}

    </div>
    <div class="govuk-grid-column-one-third">

    </div>
  </div>

  {#{ appPagination({
    classes: "govuk-!-margin-top-7",
    results: {
      from: startItem,
      to: endItem,
      count: totalCount
    },
    next: {
      text: 'Next',
      href: './activity?page=' + (pageNumber + 1)
    } if pageNumber < pageCount,
    previous: {
      text: 'Previous',
      href: './activity?page=' + (pageNumber - 1)
    } if pageNumber > 1
  }) }#}

    <!-- ,
    items: [{
      text: '1',
      href: '/page=1',
      selected: true
    }, {
      text: '2',
      href: '/page=2'
    }] -->

{% endblock %}
