{% extends "_layout.njk" %}

{% set application = data.applications[applicationId] %}
{% set name = [application["personal-details"]["given-name"], application["personal-details"]["family-name"]] | join(" ") %}

{% set title = "Check and confirm withdrawal" %}

{% block pageNavigation %}
  {{ govukBackLink({
    href: "/application/" + application.id + '/withdraw'
  }) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <span class="govuk-caption-xl">{{name}}</span>
      <h1 class="govuk-heading-xl">{{title}}</h1>

      {{ govukSummaryList({
        classes: "govuk-!-margin-bottom-8",
        rows: [{
          key: {
            text: "Your reasons for withdrawing this offer"
          },
          value: {
            html: data['withdraw-reasons']
          },
          actions: {
              items: [
                {
                  href: "/application/" + application.id + "/withdraw",
                  text: "Change",
                  visuallyHiddenText: "reasons"
                }
              ]
            }
        }]
      }) }}

      {{ govukWarningText({
        text: "We will tell the candidate you withdrew your offer, and share your reasons, if you gave them.",
        iconFallbackText: "Warning"
      }) }}

      <form method="post">
        {{ govukButton({
          text: "Withdraw offer",
          classes: "govuk-button--warning"
        }) }}
      </form>
      <p class="govuk-body"><a href="/application/{{ application.id }}">Cancel</a></p>
    </div>
  </div>

{% endblock %}
